<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->
<ion-view view-title="Lista de Compras">
  <ion-content class="padding">
    <h3>Lista de compras {{list.name}}</h3>

    <form name="form" ng-submit="add()">
      <ion-list>
        <ion-item class="item-input-inset">
          <label class="item-input-wrapper">
            <input type="text" placeholder="Nome do produto" ng-model="product.name" 
              autocomplete="{items: products, onSelect: select}" required>
          </label>
          <button class="button button-small" ng-disabled="product.name == null">
            Adicionar Produto
          </button>
        </ion-item>
      </ion-list>
    </form>
    <br />

    <ion-list>
      <ion-item ng-repeat="lp in lproducts" class="item-toggle-option item-remove-animate">
        {{lp.product.name}}
        <label class="toggle toggle-balanced">
          <input type="checkbox" ng-model="lp.ok" ng-change="update()">
         <div class="track">
           <div class="handle"></div>
         </div>
        </label>
        <ion-option-button class="button-assertive" ng-click="remove(lp)">
          Remover da Lista
        </ion-option-button>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-view>
